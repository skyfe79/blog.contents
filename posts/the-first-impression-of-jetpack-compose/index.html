<!doctype html><html><script type=text/javascript async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$']],processEscapes:!0,processEnvironments:!0,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var b=MathJax.Hub.getAllJax(),a;for(a=0;a<b.length;a+=1)b[a].SourceElement().parentNode.className+=' has-jax'}),MathJax.Hub.Config({TeX:{equationNumbers:{autoNumber:"AMS"}}})</script><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Jetpack Compose 첫느낌 - Burt.K</title><link rel=icon type=image/png href=images/favicon.png><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="Jetpack Compose 첫느낌"><meta property="og:description" content="Android Studio 4.0 Canary 1이 배포된 이후로 Jetpack Compose에 대한 내용이 하나둘씩 채워지고 있다. Jetpack Compose에 대한 공식 튜토리얼이 나와서 따라해 보았다.
 Jetpack Compose 공식 튜토리얼  우선은 SwiftUI와 비슷하게 Compose로 구성한 앱을 시뮬레이터나 디바이스에 직접 심지 않고 미리 보기를 통해 레이아웃을 확인할 수 있다. 미리 보기를 위해서 @Preview 어노테이션을 제공한다. 단, @Preview로 설정한 함수는 매개변수를 받을 수 없다. 매개변수가 필요한 @Compose함수라면 임의의 매개변수를 제공하여 미리 보기 함수를 구성해야 한다."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.burt.pe.kr/posts/the-first-impression-of-jetpack-compose/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-10T22:11:47+09:00"><meta property="article:modified_time" content="2019-11-10T22:11:47+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Jetpack Compose 첫느낌"><meta name=twitter:description content="Android Studio 4.0 Canary 1이 배포된 이후로 Jetpack Compose에 대한 내용이 하나둘씩 채워지고 있다. Jetpack Compose에 대한 공식 튜토리얼이 나와서 따라해 보았다.
 Jetpack Compose 공식 튜토리얼  우선은 SwiftUI와 비슷하게 Compose로 구성한 앱을 시뮬레이터나 디바이스에 직접 심지 않고 미리 보기를 통해 레이아웃을 확인할 수 있다. 미리 보기를 위해서 @Preview 어노테이션을 제공한다. 단, @Preview로 설정한 함수는 매개변수를 받을 수 없다. 매개변수가 필요한 @Compose함수라면 임의의 매개변수를 제공하여 미리 보기 함수를 구성해야 한다."><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://blog.burt.pe.kr/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://blog.burt.pe.kr/css/main.css><link rel=stylesheet type=text/css href=https://blog.burt.pe.kr/css/custom.css><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src=https://blog.burt.pe.kr/js/main.js></script></head><body><div class="container wrapper post"><div class=header><h1 class=site-title><a href=/>Burt.K</a></h1><div class=site-description><h2>Awesome Discovery</h2><nav class="nav social"><ul class=flat><a href=https://github.com/skyfe79 title=Github><i data-feather=github></i></a><a href=https://twitter.com/skyfe79 title=Twitter><i data-feather=twitter></i></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/series>Series</a></li><li><a href=/talks>Talks</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li></ul></nav></div><div class=post-header><h1 class=title>Jetpack Compose 첫느낌</h1><div class=meta>Posted at &mdash; Nov 10, 2019</div></div><div class=markdown><p>Android Studio 4.0 Canary 1이 배포된 이후로 Jetpack Compose에 대한 내용이 하나둘씩 채워지고 있다. Jetpack Compose에 대한 공식 튜토리얼이 나와서 따라해 보았다.</p><ul><li><a href=https://developer.android.com/jetpack/compose/tutorial>Jetpack Compose 공식 튜토리얼</a></li></ul><p>우선은 SwiftUI와 비슷하게 Compose로 구성한 앱을 시뮬레이터나 디바이스에 직접 심지 않고 미리 보기를 통해 레이아웃을 확인할 수 있다. 미리 보기를 위해서 <code>@Preview</code> 어노테이션을 제공한다. 단, <code>@Preview</code>로 설정한 함수는 매개변수를 받을 수 없다. 매개변수가 필요한 <code>@Compose</code>함수라면 임의의 매개변수를 제공하여 미리 보기 함수를 구성해야 한다.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#3c5d5d;font-weight:700>@Preview</span>
<span style=color:#3c5d5d;font-weight:700>@Composable</span>
<span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>PreviewGreeting</span>() {
    Greeting(<span style=color:#d14>&#34;Android&#34;</span>)
}
</code></pre></div><p>dp, px 등과 같은 단위가 Number 타입의 확장으로 제공되어 매우 편리하고 가독성이 높아졌다. 기존에 dp2px, px2dp 같은 함수를 이제 만들지 않아도 된다.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#3c5d5d;font-weight:700>@Composable</span>
<span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>NewsStory</span>() {
    Column(
        crossAxisSize = LayoutSize.Expand,
        modifier=Spacing(<span style=color:#099>16.</span>dp)
    ) {
        Text(<span style=color:#d14>&#34;A day in Shark Fin Cove&#34;</span>)
        Text(<span style=color:#d14>&#34;Davenport, California&#34;</span>)
        Text(<span style=color:#d14>&#34;December 2018&#34;</span>)
    }
}
</code></pre></div><p>모서리가 둥근 이미지를 화면에 그리고자 할 때, 코드의 SwiftUI 보다 depth가 깊다. 레이아웃과 컨테이너 그리고 기타 등등을 표현하려면 코드의 들여쓰기가 상당히 깊어지지 않을까&mldr; 이럴 경우에는 해당 부분을 <code>@Composable</code>함수로 만들어 사용해야 한다.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#3c5d5d;font-weight:700>@Composable</span>
<span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>NewsStory</span>() {
    <span style=color:#000;font-weight:700>val</span> image = +imageResource(R.drawable.header)

    MaterialTheme {
        Column(
            crossAxisSize = LayoutSize.Expand,
            modifier=Spacing(<span style=color:#099>16.</span>dp)
        ) {
            Container(expanded = <span style=color:#000;font-weight:700>true</span>, height = <span style=color:#099>180.</span>dp) {
                Clip(shape = RoundedCornerShape(<span style=color:#099>8.</span>dp)) {
                    DrawImage(image)
                }
            }

            HeightSpacer(<span style=color:#099>16.</span>dp)

            Text(<span style=color:#d14>&#34;A day in Shark Fin Cove&#34;</span>)
            Text(<span style=color:#d14>&#34;Davenport, California&#34;</span>)
            Text(<span style=color:#d14>&#34;December 2018&#34;</span>)
        }
    }
}
</code></pre></div><p>하지만 코드는 매우 쉽게 읽힌다. 안드로이드의 기존 UI 작업에 비교하면 정말 감사할 따름이다 :)</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>package</span> <span style=color:#555>com.github.skyfe79.android.hellocompose</span>

<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.appcompat.app.AppCompatActivity</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>android.os.Bundle</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.compose.Composable</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.compose.unaryPlus</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.core.*</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.engine.geometry.Shape</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.foundation.DrawImage</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.foundation.shape.corner.RoundedCornerShape</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.layout.*</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.material.MaterialTheme</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.material.themeTextStyle</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.material.withOpacity</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.res.imageResource</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.text.style.TextOverflow</span>
<span style=color:#000;font-weight:700>import</span> <span style=color:#555>androidx.ui.tooling.preview.Preview</span>

<span style=color:#000;font-weight:700>class</span> <span style=color:#458;font-weight:700>MainActivity</span> : AppCompatActivity() {

    <span style=color:#000;font-weight:700>override</span> <span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>onCreate</span>(savedInstanceState: Bundle?) {
        <span style=color:#000;font-weight:700>super</span>.onCreate(savedInstanceState)
        setContent {
            NewStory()
        }
    }
}

<span style=color:#3c5d5d;font-weight:700>@Composable</span>
<span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>NewStory</span>() {

    <span style=color:#000;font-weight:700>val</span> image = +imageResource(R.drawable.header)

    MaterialTheme {
        Column(
                crossAxisSize = LayoutSize.Expand,
                modifier = Spacing(<span style=color:#099>16.</span>dp)
        ) {
            Container(expanded = <span style=color:#000;font-weight:700>true</span>, height = <span style=color:#099>180.</span>dp) {
                Clip(shape = RoundedCornerShape(<span style=color:#099>8.</span>dp)) {
                    DrawImage(image = image)
                }
            }

            HeightSpacer(height = <span style=color:#099>16.</span>dp)

            Text(<span style=color:#d14>&#34;A day wandering through the sandhills in Shark &#34;</span> +
                    <span style=color:#d14>&#34;Fin Cove, and a few of the sights I saw&#34;</span>,
                    maxLines = <span style=color:#099>2</span>, overflow = TextOverflow.Fade,
                    style = (+themeTextStyle { h6 }).withOpacity(<span style=color:#099>0.87f</span>))
            Text(<span style=color:#d14>&#34;Davenport, California&#34;</span>,
                    style = (+themeTextStyle { body2 }).withOpacity(<span style=color:#099>0.87f</span>))
            Text(<span style=color:#d14>&#34;December 2018&#34;</span>,
                    style = (+themeTextStyle { body2 }).withOpacity(<span style=color:#099>0.6f</span>))
        }
    }
    
}

<span style=color:#3c5d5d;font-weight:700>@Composable</span>
<span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>Greeting</span>(name: String) {
    Text(text = <span style=color:#d14>&#34;Hello </span><span style=color:#d14>$name</span><span style=color:#d14>!&#34;</span>)
}

<span style=color:#3c5d5d;font-weight:700>@Preview</span>
<span style=color:#3c5d5d;font-weight:700>@Composable</span>
<span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>DefaultPreview</span>() {
    NewStory()
}
</code></pre></div><p>공식 튜토리얼에서 List와 Navigation 부분이 없어서 약간 아쉽다. 이제 슬슬 Jetpack Compose를 다뤄봐야겠다.</p><p>흥미로운 글은 코멘트로 계속해서&mldr;</p></div><div class=post-tags><nav class="nav tags"><ul class=flat><li><a href=/tags/android>Android</a></li><li><a href=/tags/jetpack>Jetpack</a></li><li><a href=/tags/compose>Compose</a></li></ul></nav></div><div id=disqus_thread></div><script src=https://utteranc.es/client.js repo=skyfe79/blog.contents issue-term=pathname theme=github-light crossorigin=anonymous async></script></div><div class="footer wrapper"><nav class=nav><div>© Copyright Sungcheol Kim | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-151403685-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><script>feather.replace()</script></body></html>